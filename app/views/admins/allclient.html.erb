<!-- <p id="notice"><%= notice %></p>

<h1>Clients</h1>

<table>
  <thead>
    <tr>
      <th>First name</th>
      <th>Last name</th>
      <th>Adresse</th>
      <th>Tel</th>
      <th>Sexe</th>
      <th>Country</th>
      <th>Zip code</th>
      <th>Email</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @clients.each do |client| %>
      <tr>
        <td><%= client.first_name %></td>
        <td><%= client.last_name %></td>
        <td><%= client.adresse %></td>
        <td><%= client.tel %></td>
        <td><%= client.sexe %></td>
        <td><%= client.country %></td>
        <td><%= client.zip_code %></td>
        <td><%= client.email %></td>
        <td><%= link_to 'Show', show_clients_path(client) %></td>
        <td><%= link_to 'Edit', edit_clients_path(client) %></td>
        <td><%= link_to 'Destroy', delete_clients_path(client), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Client', new_clients_path %>
 -->



<!-- <p id="notice"><%= notice %></p>
<div class="secotionTitle">
  <h2 id="service" class="poli1 police_massage"><span>PRESTATAIRES</span></h2>
</div>
<%= link_to 'Nouveau prestataire', new_prestataires_path %>
 
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Prestataires</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  <link href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css" rel="stylesheet">

  <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
  <script src="https://unpkg.com/tableexport.jquery.plugin/libs/jsPDF/jspdf.min.js"></script>
  <script src="https://unpkg.com/tableexport.jquery.plugin/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
  <script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>
  <script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/export/bootstrap-table-export.min.js"></script>
  <script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>

  <style>
    .toolBarSelect{
      position: absolute;
      left: 880px;
    }

    .search-control{
      position: relative;
      left: 655px;
    }

  </style>
</head>

<body>


  <p id="notice"><%= notice %></p>
  <section class="">
    <div class="secotionTitle">
      <h2 id="service" class="poli1 police_massage"><span>CLIENTS</span></h2>
    </div>

    <div id="toolbar">
      <select class="form-control toolBarSelect"> 

        <option value="selected">Exporter les sélectionnés</option>
        <option value="all">Exporter tous</option>
        
      </select>
      <div class="search-control">
        <input class="form-control" id="myInput" type="text" placeholder="chercher dans la table..">
      </div>
    </div>
<!--     <%= link_to 'Nouveau prestataire', new_prestataires_path %>
-->


<div class="row">
  <div class="col-xs-12">
    <div class="innerWrapper">
      <div class="table-responsive">
        <table id="table" 
        data-toggle="table"
        data-filter-control="true" 
        data-show-export="true"
        data-click-to-select="true"
        data-toolbar="#toolbar"
        class="table-responsive"
        style="">


        <thead>

          <tr>
            <th data-field="state" data-checkbox="true"></th>
                    <th data-field="nom" data-filter-control="input" data-sortable="true">Nom</th>
                    <th data-field="prenom" data-filter-control="input" data-sortable="true">Prénom</th>
                    <th data-field="sexe" data-filter-control="select" data-sortable="true">Sexe</th>
                    <th data-field="email" class="">Email</th>
                    <th>Tel</th>
                    <th data-field="zip_code" data-filter-control="input">Code Postal</th>
                    
                    <th class="actionTableAdmin" data-field="note"> <center style="line-height: 35px;">Actions
                    </center>  
                  </th>
                </tr>
              </thead>


              <tbody id="myTable">
                <% @clients.each do |client| %>
                <tr>
                  <td class="bs-checkbox "><input data-index="<%= client.id %>" name="btSelectItem" type="checkbox"></td>
                  <td><%= client.last_name %></td>
                  <td><%= client.first_name %></td>
                  <td><%= client.sexe %></td>
                  <td class=""><%= client.email %></td>
                  <td><%= client.tel %></td>
                  <td><%= client.zip_code %></td>
    
                  <td>
                    <a href="<%=show_clients_path(client.id)%>" class="btn btn-default" title="Afficher"><i class="far fa-eye"></i></a> 
                    <a href="<%=edit_clients_path(client.id)%>" class="btn btn-default" title="Editer"><i class="fas fa-user-edit"></i></a> 
                    <%= link_to '<i class="fas fa-trash-alt"></i>'.html_safe, delete_clients_path(client.id), method: :delete, data: { confirm: 'Etes vous sur?' }, title:"Supprimer",class:"btn btn-default" %></td>

                  </tr>

                  <% end %>


                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
      <script>
//exporte les données sélectionnées
var $table = $('#table');

$(function() {
  $('#toolbar').find('select').change(function () {
    $table.bootstrapTable('destroy').bootstrapTable({
      exportDataType: $(this).val(),
      exportTypes: ['json', 'xml', 'csv', 'txt', 'sql', 'excel', 'pdf']
    })
  }).trigger('change')
})


var trBoldBlue = $("table");

$(trBoldBlue).on("click", "tr", function (){
  $(this).toggleClass("bold-blue");
});



$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});

</script>

</body>
</html>


